
基于瘦客户端+Openstack+zabbix+grafana的超融合智能可扩展的云桌面平台

项目详细内容请参考PDF文件

设计流程：
智能可扩展的云桌面平台分为客户端和后端两部分，后端又分为资源计算层、数据存储层、监控调度层。整体架构：
 ![image](https://github.com/user-attachments/assets/5c426350-dd32-42a6-8f74-2970e42a6796)

客户端：
瘦客户端与CDC云桌面系统是实验室自主研发的便携式主机访问系统，基于瘦客户端，CDC云桌面系统实现开机自启，用户访问CCCloud配置层，登录成功后，获取主机信息，选择自己要连接的主机，CDC云桌面会判断主机类选择相应的高效远程协议连接CCCloud计算节点的云主机。瘦客户端通过开源硬件实现，支持RCAav 端口音频输出、4 个USB 端口、HDMI 接口、POE 供电、RAM 1GB 64 位4 核处理器、以太网端口、无线局域网蓝牙、WIFI 等。CDC云桌面基于Linux 系统实现开机自启，要求用户输入CCCloud 配置层节点地址，通过用户名密码登录，获取数据库主机信息，然后选择CCCloud 计算层创建的主机，CDC通过选择高效的远程协议进行远程连接。
![image](https://github.com/user-attachments/assets/93eb2d4b-a828-4492-a111-0e7a3f7742ca)


后端：
CCCloud:是实验室自主研发的云计算资源管理系统，主要实现了物理机的虚拟化，管理员可以根据用户的需求定制出虚拟机。该部分的整体架构由配置层和计算层两部分组成。云管理平台在底层虚拟出一个巨大的虚拟资源池，资源可以根据负载规模的变化动态配置虚拟主机，最优的利用资源，提高利用率，降低成本，实现主机硬件的可扩展性。设置浮动IP，与主机IP 与其绑定可以访问外部网络，主机关机时动态回收浮动IP 地址，用于其他主机绑定，这样可以减少IP 冲突，提高网络性能，实现网络的可扩展。 
配置层：主要负整个集群资源的调配，以web界面的形式提供给管理员。管理员可以通过界面进行当期已分配资源的查看、增加、修改和删除。
计算层：针对配置层所提交的需求进行底层实现。后端资源计算层以开源的云管理平台Openstack为原型进行二次开发。其主要模块有云主机管理、安全组配置、快照管理、磁盘管理和用户管理。云主机管理主要负责云主机的创建、分配和状态管理。安全组配置主要负责安全组的增删改查。快照管理主要负责对当前状态的云主机进行拍摄拍照，以及快照的增删改查。磁盘管理主要负责对已经创建分配出去的云主机进行添加和删除云硬盘。用户管理主要负责对需要使用云主机的人员进行注册以及权限的变更。计算层冗余设计，采用集群系统，将各个主机系统通过网络或其他手段有机地组成一个群体，共同对外提供服务。创建群集系统，通过实现高可用性的软件将冗余的高可用性的硬件组件和软件组件组合起来，消除单点故障。
![image](https://github.com/user-attachments/assets/f1c3a901-9a4e-46a8-971f-bfc7c8b31ca7)


CSCloud:该系统是基于对象存储自主研发的云存储系统。存储系统由配置管理层、元数据管理层、文件存储层以及文件网关层结构组成。
![image](https://github.com/user-attachments/assets/b1c74e9f-6f5d-46f5-9d03-59081f3a0f35)

配置管理层（CS）：主要包括服务器配置、服务器安装、节点控制、负载迁移控制。它控制元数据管理层（MS）:元数据管理层主要负责整个系统中所有存储节点的基础信息，包括磁盘容量、cpu、内存等。还包括用户上传文件和存储节点间的对应关系、文件的主副存储服务器关系以及每个用户的已使用和剩余磁盘容量信息。且提供给管理员和用户一个Web 界面进行管理以及数据访问。此外，还承接文件网关层与文件存储层的业务实现。
文件存储层（DS）:文件存储层主要负责具体数据的存储。同时，提供文件网关文件处理API 以及负载迁移的底层实现。
文件网关层（FSG）:文件网关层是所有前端系统用户数据存储的入口。他的主要负责瘦客户端系统镜像文件的备份与恢复、高性能访问、均衡分布、数据压缩以及灵活的文件存储需求扩展。

CMCloud: 该部分是基于自动化故障处理的监控系统，整体架构分三大部分组成：云桌面主机、监控层、配置管理层，从而可以实现对被监控对象的信息采集、故障定位、故障分类、故障诊断以及故障修复的一个闭环自动化恢复过程。
![image](https://github.com/user-attachments/assets/a4dfeb69-f435-4379-9f49-285938093d70)

云桌面主机：指别监控端（Agent）的集合，而监控端（Server）是通过主动轮询和被动捕获这两种模式对别监控端进行主动和被动的监控。
配置管理层：负责给用户和后端提供友好交互，主要是为了方便用户对被监控的信息进行设置，包括对被监控的主机（Host）,该主机对应的监控项（Item）,该监控项所对应阈值（Trigger
)以及对应的动作（Action）等四部分的CRUD(增删改查)
监控层：基于自动化故障处理的监控系统zabbix的底层实现。该部分分为信息采集模块、数据存储模块、故障处理模块以及页面可视化展示模块。首先是信息采集模块，该模块是在
监控端获取到被监控对象的各种信息后，将采集到的各种数据在数据存储模块进行实时存储；页面可视化展示模块主要负责用户和监控服务器进友好交互，其作用是方便用户在监控端对被监控对象管理配置，除此之外，可以借助Grafana插件把监控端采集的相关数据进行可视化展示；自动化故障处理模块主要负责对监控系统的被监控端所产生的故障进行处理，以及对故障恢复程序的管理。故障处理指故障分类、故障报警、插件机制。故障分类是指当出现新的故障时，管理人员会受到报警信息，同时平台会首先查询智能库，判断智能库中是否存在解决故障的插件，如果存在解决方案，可下载尝试处理，实现处理脚本的复用。如果不存在该插件，该系统将调用大模型的API，把报警信息传递给大模型，根据得到的处理解决方案依次尝试，如果故障依然无法解决，用户可以自定义解决方案，成功解决的方案会被智能库收录； 



